import { React, useMemo } from 'react';
import {Polyline, GoogleMap, useLoadScript, Marker} from '@react-google-maps/api';
import credentials from './credentials';
import { useState } from "react";
import { color } from '@chakra-ui/react';


export default function MapView() {
    const { isLoaded } = useLoadScript({
        googleMapsApiKey: credentials.mapsKey,
    });
    if (!isLoaded) return <div>Loading...</div>;
    return <Map />;

}
function MostarLineas() {
    cambiarmapa(true)
    cambiarmapa2(true)
}


function Map() {
    
    const[mostrar, cambiarmapa] = useState(true);
    const[mostrar2, cambiarmapa2] = useState(true);
    const center = useMemo(()=>({lat: -39.8239, lng: -73.2458}),[]);

    const onLoad = polyline => {
        console.log('polyline: ', polyline)
    };
    
    
    var path = [
        { lat: -39.86932955955784, lng: -73.18675730429622 },
        { lat: -39.867638, lng:-73.187790 },
        { lat: -39.866009, lng: -73.188481 },
        { lat: -39.864520, lng: -73.189777},
        { lat: -39.864130, lng: -73.190015},
        { lat: -39.857678, lng:  -73.191877},
        { lat: -39.857165, lng:  -73.191937},
        {lat:-39.856501, lng:-73.191345},
        {lat:-39.854556, lng:-73.189632},
        {lat:-39.841439, lng:-73.205767},
        {lat:-39.837168, lng:-73.199410},
        {lat:-39.836662, lng:-73.199717},
        {lat:-39.836591, lng:-73.199645},
        {lat:-39.836514, lng:-73.199649},
        {lat:-39.835359, lng:-73.200528},
        {lat:-39.837372, lng:-73.203473},
        {lat:-39.835281, lng:-73.205905},
        {lat:-39.839969, lng:-73.212591},
        {lat:-39.840355, lng:-73.213412},
        {lat:-39.840983, lng:-73.217538},
        {lat:-39.843235, lng:-73.217015},
        {lat:-39.845058, lng:-73.217155},
        {lat:-39.845449, lng:-73.217318},
        {lat:-39.848278, lng:-73.219822},
        {lat:-39.851913, lng:-73.223830},
        {lat:-39.852835, lng:-73.225740},
        {lat:-39.853847, lng:-73.227477},
        {lat:-39.852728, lng:-73.228816},
        {lat:-39.853031, lng:-73.229292},
        {lat:-39.854135, lng:-73.230178},
        {lat:-39.853534, lng:-73.231491},
        {lat:-39.853550, lng:-73.232352},
        {lat:-39.853268, lng:-73.232345},
        {lat:-39.851422, lng:-73.231963},
        {lat:-39.851348, lng:-73.231666},
        {lat:-39.851097, lng:-73.231479},
        {lat:-39.850820, lng:-73.231606},
        {lat:-39.850733, lng:-73.231776},
        {lat:-39.848123, lng:-73.231299},
        {lat:-39.845045, lng:-73.232034},
        {lat:-39.844338, lng:-73.228070},
        {lat:-39.843804, lng:-73.228219},
        {lat:-39.843601, lng:-73.227786},
        {lat:-39.842919, lng:-73.227997},
        {lat:-39.843009, lng:-73.228475},
        {lat:-39.839340, lng:-73.229551},
        {lat:-39.838729, lng:-73.229583},
        {lat:-39.838012, lng:-73.229455},
        {lat:-39.837512, lng:-73.234795},
        {lat:-39.837287, lng:-73.235543},
        {lat:-39.836345, lng:-73.237318},
        {lat:-39.833844, lng:-73.238198},
        {lat:-39.832726, lng:-73.239288},
        {lat:-39.831737, lng:-73.237631},
        {lat:-39.830224, lng:-73.239335},
        {lat:-39.829344, lng:-73.238402},
        {lat:-39.825605, lng:-73.232450},
        {lat:-39.825499, lng:-73.232179},
        {lat:-39.825001, lng:-73.228840},
        {lat:-39.823978, lng:-73.227562},
        {lat:-39.823327, lng:-73.228392},
        {lat:-39.822758, lng:-73.228860},
        {lat:-39.820340, lng:-73.229827},
        {lat:-39.819506, lng:-73.230332},
        {lat:-39.816365, lng:-73.235622},
        {lat:-39.813385, lng:-73.238765},
        {lat:-39.813178, lng:-73.239293},
        {lat:-39.812498, lng:-73.241353},
        {lat:-39.811885, lng:-73.245761},
        {lat:-39.811889, lng:-73.246837},
        {lat:-39.810959, lng:-73.252231},
        {lat:-39.810465, lng:-73.252096},
        {lat:-39.810173, lng:-73.252085},
        {lat:-39.808079, lng:-73.251219},
        {lat:-39.807750, lng:-73.251156},
        {lat:-39.807675, lng:-73.251108},
        {lat:-39.807500, lng:-73.251072},
        {lat:-39.807458, lng:-73.250993},
        {lat:-39.807391, lng:-73.250962},
        {lat:-39.807314, lng:-73.251005},
        {lat:-39.807286, lng:-73.251121},
        {lat:-39.807304, lng:-73.251186},
        {lat:-39.807224, lng:-73.251329},
        {lat:-39.807072, lng:-73.251334},
        {lat:-39.807017, lng:-73.251376},
        {lat:-39.806863, lng:-73.251690},
        {lat:-39.806956, lng:-73.251881},
        {lat:-39.806889, lng:-73.252023}

    ];

    var path1 = [
        { lat: -39.77116, lng: -73.21999},
        { lat: -39.7714,  lng: -73.22024 },
        { lat: -39.77232, lng: -73.21957 },
        { lat: -39.77237, lng: -73.2193 },
        { lat: -39.77286, lng: -73.21853},
        { lat: -39.77349, lng: -73.21798},
        { lat: -39.77357, lng: -73.21772 },
        { lat: -39.7736,  lng: -73.21674 },
        { lat: -39.77404, lng: -73.21494 },
        { lat: -39.77402, lng: -73.21261 },
        { lat: -39.7738,  lng: -73.21177 },
        { lat: -39.77346, lng: -73.21098 },
        { lat: -39.77368, lng: -73.21024 },
        { lat: -39.77365, lng: -73.20964 },
        { lat: -39.7739,  lng: -73.20717 },
        { lat: -39.77388, lng: -73.20529 },
        { lat: -39.77486, lng: -73.20293 },
        { lat: -39.77476, lng: -73.20062 },
        { lat: -39.77489, lng: -73.20028 },
        { lat: -39.77534, lng: -73.19953 },
        { lat: -39.77549, lng: -73.19875 },
        { lat: -39.77543, lng: -73.19847 },
        { lat: -39.7746,  lng: -73.19708 },
        { lat: -39.77437, lng: -73.19575 },
        { lat: -39.77433, lng: -73.19543 },
        { lat: -39.77421, lng: -73.19488 },
        { lat: -39.77422, lng: -73.19461 },
        { lat: -39.7743,  lng: -73.19441 },
        { lat: -39.77497, lng: -73.19335 },
        { lat: -39.77604, lng: -73.19133 },
        { lat: -39.77654, lng: -73.19112 },
        { lat: -39.77671, lng: -73.19109 },
        { lat: -39.77684, lng: -73.19099 },
        { lat: -39.78139, lng: -73.19461 },
        { lat: -39.78181, lng: -73.19513 },
        { lat: -39.78826, lng: -73.21015 },
        { lat: -39.78858, lng: -73.21062 },
        { lat: -39.78871, lng: -73.21082 },
        { lat: -39.78883, lng: -73.21075 },
        { lat: -39.78916, lng: -73.21102 },
        { lat: -39.78915, lng: -73.211 },
        { lat: -39.78915, lng: -73.21139 },
        { lat: -39.78924, lng: -73.21157 },
        { lat: -39.7896,  lng: -73.21159 },
        { lat: -39.79031, lng: -73.21168},
        { lat: -39.7931,  lng: -73.2126 },
        { lat: -39.79271, lng: -73.21422},
        { lat: -39.79259, lng: -73.21472},
        { lat: -39.79229, lng: -73.21655 },
        { lat: -39.7923,  lng: -73.21678 },
        { lat: -39.79237, lng: -73.21702},
        { lat: -39.79254, lng: -73.21725},
        { lat: -39.79263, lng: -73.21735 },
        { lat: -39.79305, lng: -73.21753 },
        { lat: -39.7932,  lng: -73.21694 },
        { lat: -39.7937,  lng: -73.2153 },
        { lat: -39.7945,  lng: -73.21304},
        { lat: -39.79502, lng: -73.21323},
        { lat: -39.79529, lng: -73.21335 },
        { lat: -39.79691, lng: -73.21397 },
        { lat: -39.79742, lng: -73.21414 },
        { lat: -39.79871, lng: -73.21435 },
        { lat: -39.79971, lng: -73.21427 },
        { lat: -39.80177, lng: -73.2138 },
        { lat: -39.80185, lng: -73.2138 },
        { lat: -39.80282, lng: -73.21357 },
        { lat: -39.80342, lng: -73.21352 },
        { lat: -39.80371, lng: -73.21352 },
        { lat: -39.80416, lng: -73.21356 },
        { lat: -39.80455, lng: -73.21365 },
        { lat: -39.80502, lng: -73.21381 },
        { lat: -39.80524, lng: -73.21393 },
        { lat: -39.80546, lng: -73.21408 },
        { lat: -39.80588, lng: -73.21441 },
        { lat: -39.80702, lng: -73.21543 },
        { lat: -39.80822, lng: -73.21654 },
        { lat: -39.80835, lng: -73.21666 },
        { lat: -39.80869, lng: -73.21696 },
        { lat: -39.80705, lng: -73.21995 },
        { lat: -39.80669, lng: -73.22073 },
        { lat: -39.80799, lng: -73.22176 },
        { lat: -39.80806, lng: -73.22161 },
        { lat: -39.80832, lng: -73.22112 },
        { lat: -39.80861, lng: -73.22074 },
        { lat: -39.81032, lng: -73.22214 },
        { lat: -39.81067, lng: -73.22243 },
        { lat: -39.81071, lng: -73.22251 },
        { lat: -39.81073, lng: -73.22275 },
        { lat: -39.81077, lng: -73.22274 },
        { lat: -39.81106, lng: -73.22244 },
        { lat: -39.81133, lng: -73.22221 },
        { lat: -39.81188, lng: -73.22164 },
        { lat: -39.8121,  lng: -73.22143 },
        { lat: -39.81215, lng: -73.22142 },
        { lat: -39.8122,  lng: -73.22145 },
        { lat: -39.81235, lng: -73.22168 },
        { lat: -39.8124,  lng: -73.22172 },
        { lat: -39.81245, lng: -73.22171 },
        { lat: -39.81254, lng: -73.22165 },
        { lat: -39.81285, lng: -73.22133 },
        { lat: -39.81429, lng: -73.22335 },
        { lat: -39.81621, lng: -73.226 },
        { lat: -39.81669, lng: -73.22672 },
        { lat: -39.8169,  lng: -73.2271 },
        { lat: -39.81704, lng: -73.22732 },
        { lat: -39.81881, lng: -73.2298 },
        { lat: -39.81919, lng: -73.23025 },
        { lat: -39.81934, lng: -73.23061 },
        { lat: -39.81901, lng: -73.2311 },
        { lat: -39.81877, lng: -73.23143 },
        { lat: -39.81863, lng: -73.23162 },
        { lat: -39.81784, lng: -73.23287 },
        { lat: -39.81679, lng: -73.23476 },
        { lat: -39.81637, lng: -73.23562 },
        { lat: -39.81619, lng: -73.23574 },
        { lat: -39.81565, lng: -73.23626},
        { lat: -39.81548, lng: -73.23643 },
        { lat: -39.81516, lng: -73.23678 },
        { lat: -39.8144,  lng: -73.23761 },
        { lat: -39.81427, lng: -73.23771 },
        { lat: -39.81405, lng: -73.23794 },
        { lat: -39.814,   lng: -73.238 },
        { lat: -39.81397, lng: -73.23808},
        { lat: -39.81368, lng: -73.23842},
        { lat: -39.81361, lng: -73.23851 },
        { lat: -39.81353, lng: -73.23861},
        { lat: -39.81339, lng: -73.23872 },
        { lat: -39.8132,  lng: -73.23921 },
        { lat: -39.81296, lng: -73.24 },
        { lat: -39.8126,  lng: -73.24111 },
        { lat: -39.81251, lng: -73.24134 },
        { lat: -39.81354, lng: -73.24156 },
        { lat: -39.81346, lng: -73.24234 },
        { lat: -39.81326, lng: -73.24379 },
        { lat: -39.81307, lng: -73.24522 },
        { lat: -39.81295, lng: -73.24606 },
        { lat: -39.81287, lng: -73.2466 },
        { lat: -39.81379, lng: -73.24689 },
        { lat: -39.81455, lng: -73.24711 },
        { lat: -39.81442, lng: -73.24783 },
        { lat: -39.81486, lng: -73.24792 },
        { lat: -39.81563, lng: -73.24811 },
        { lat: -39.81596, lng: -73.24824 },
        { lat: -39.81741, lng: -73.2487 },
        { lat: -39.81759, lng: -73.24874 },
        { lat: -39.81783, lng: -73.24879 },
        { lat: -39.81881, lng: -73.24902 },
        { lat: -39.8193,  lng: -73.24624 },
        { lat: -39.81961, lng: -73.24437 },
        { lat: -39.82085, lng: -73.2447 },
        { lat: -39.82093, lng: -73.24471 },
        { lat: -39.82169, lng: -73.24485 },
        { lat: -39.82189, lng: -73.24488 },
        { lat: -39.82297, lng: -73.2452 },
        { lat: -39.82307, lng: -73.24522 },
        { lat: -39.82316, lng: -73.24522 },
        { lat: -39.82365, lng: -73.24516 },
        { lat: -39.82377, lng: -73.24517 },
        { lat: -39.82402, lng: -73.2452 },
        { lat: -39.82498, lng: -73.24553 },
        { lat: -39.8262,  lng: -73.24598 },
        { lat: -39.82706, lng: -73.24624 },
        { lat: -39.82812, lng: -73.24659 },
        { lat: -39.82845, lng: -73.24671 },
        { lat: -39.82925, lng: -73.24329 },
        { lat: -39.82962, lng: -73.24158 },
        { lat: -39.83021, lng: -73.23932 },
        { lat: -39.82959, lng: -73.23872 },
        { lat: -39.82939, lng: -73.23846 },
        { lat: -39.82818, lng: -73.23665 },
        { lat: -39.82758, lng: -73.23565 },
        { lat: -39.82769, lng: -73.23554 },
        { lat: -39.82778, lng: -73.23547 },
        { lat: -39.82785, lng: -73.23543 },
        { lat: -39.82887, lng: -73.23507 },
        { lat: -39.82934, lng: -73.23495 },
        { lat: -39.82964, lng: -73.2349 },
        { lat: -39.82972, lng: -73.23489 },
        { lat: -39.82981, lng: -73.2351 },
        { lat: -39.82991, lng: -73.23528 },
        { lat: -39.83011, lng: -73.23564 },
        { lat: -39.83033, lng: -73.23597 },
        { lat: -39.83048, lng: -73.23619 },
        { lat: -39.83079, lng: -73.23656 },
        { lat: -39.83086, lng: -73.23662 },
        { lat: -39.83101, lng: -73.23674 },
        { lat: -39.8312,  lng: -73.23696 },
        { lat: -39.83129, lng: -73.23709 },
        { lat: -39.83166, lng: -73.2377 },
        { lat: -39.83358, lng: -73.2409 },
        { lat: -39.83363, lng: -73.241 },
        { lat: -39.83464, lng: -73.24004 },
        { lat: -39.83541, lng: -73.23926 },
        { lat: -39.83545, lng: -73.23921 },
        { lat: -39.83554, lng: -73.23909 },
        { lat: -39.83651, lng: -73.23723 },
        { lat: -39.83735, lng: -73.23559 },
        { lat: -39.83753, lng: -73.23512 },
        { lat: -39.83758, lng: -73.23496 },
        { lat: -39.83766, lng: -73.23437 },
        { lat: -39.83771, lng: -73.23384 },
        { lat: -39.83773, lng: -73.23368 },
        { lat: -39.83784, lng: -73.23256 },
        { lat: -39.83792, lng: -73.23167 },
        { lat: -39.83805, lng: -73.23047 },
        { lat: -39.83811, lng: -73.22975 },
        { lat: -39.83811, lng: -73.22945 },
        { lat: -39.83847, lng: -73.22952 },
        { lat: -39.83872, lng: -73.22958 },
        { lat: -39.83881, lng: -73.22958 },
        { lat: -39.83906, lng: -73.22958 },
        { lat: -39.83933, lng: -73.22954 },
        { lat: -39.84089, lng: -73.22905 },
        { lat: -39.84149, lng: -73.22888 },
        { lat: -39.84176, lng: -73.22879 },
        { lat: -39.84237, lng: -73.22861 },
        { lat: -39.84301, lng: -73.22847 },
        { lat: -39.84309, lng: -73.22896 },
        { lat: -39.84333, lng: -73.22883 },
        { lat: -39.84367, lng: -73.22879 },
        { lat: -39.8438,  lng: -73.22871 },
        { lat: -39.84381, lng: -73.22865 },
        { lat: -39.84379, lng: -73.22842 },
        { lat: -39.84379, lng: -73.22821 },
        { lat: -39.8442,  lng: -73.22809 },
        { lat: -39.8448,  lng: -73.23149 },
        { lat: -39.84489, lng: -73.23207 },
        { lat: -39.84492, lng: -73.2322 },
        { lat: -39.84572, lng: -73.23199 },
        { lat: -39.84812, lng: -73.23138 },
        { lat: -39.84866, lng: -73.23138 },
        { lat: -39.84958, lng:-73.23162 }
        
    ];


    const options = {
        strokeColor: 'red',
        strokeOpacity: 0.8,
        strokeWeight: 8,
        fillColor: '#FF0000',
        fillOpacity: 0.35,
        clickable: true,
        draggable: false,
        editable: false,
        visible: mostrar,
        radius: 30000,
        
    
    };

    const options1 = {
        strokeColor: 'blue',
        strokeOpacity: 0.8,
        strokeWeight: 8,
        fillColor: '#FF0000',
        fillOpacity: 0.35,
        clickable: true,
        draggable: false,
        editable: false,
        visible: mostrar2,
        radius: 30000,
        
    
    };
    
    return (
        
        <GoogleMap
            
            zoom={14}
            center={center}
            mapContainerClassName="map-container"
            mapTypeId='roadmap'
            defaultOptions={{
                // these following 7 options turn certain controls off see link below
                streetViewControl: false,
                scaleControl: false,
                mapTypeControl: false,
                panControl: false,
                zoomControl: false,
                rotateControl: false,
                fullscreenControl: false,
                disableDefaultUI: true,
                }}
                
            
        >
            <Polyline
                onLoad={onLoad}
                path={path}
                options={options}
                onClick={()=> cambiarmapa(false)}
    
            />
            <Polyline
                onLoad={onLoad}
                path={path1}
                options={options1}
                onClick={()=> cambiarmapa2(false)}
            />
            
            <Marker 
            title="Mostrar lineas"
            onClick={()=> {
                cambiarmapa(true)
                cambiarmapa2(true)}}
            icon={{
                
                path:
                "M8 12l-4.7023 2.4721.898-5.236L.3916 5.5279l5.2574-.764L8 0l2.3511 4.764 5.2574.7639-3.8043 3.7082.898 5.236z",
                fillColor: "yellow",
                fillOpacity: 0.9,
                scale: 2,
                strokeColor: "gold",
                strokeWeight: 2,
            }}
            
            position={{lat:-39.832707, lng:-73.252322}}
            animation="BOUNCE"
            />
            <Marker 
            position={{ lat: -39.86932955955784, lng: -73.18675730429622 }}
            
            />
            <Marker 
            label="FINAL"
            position={{lat:-39.806889, lng:-73.252023}}
            animation="DROP"
            />
            
        </GoogleMap>
    
    )
}

